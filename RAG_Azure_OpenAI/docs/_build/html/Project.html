
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Project package &#8212; RAG_Azure_OpenAI_api  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Project';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Azure OpenAI" href="modules.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">RAG_Azure_OpenAI_api  documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="modules.html">
    Azure OpenAI
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="modules.html">
    Azure OpenAI
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Project package</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="modules.html" class="nav-link">Azure OpenAI</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Project package</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="project-package">
<h1>Project package<a class="headerlink" href="#project-package" title="Link to this heading">#</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">#</a></h2>
</section>
<section id="module-Project.LoadDocuments">
<span id="project-loaddocuments-module"></span><h2>Project.LoadDocuments module<a class="headerlink" href="#module-Project.LoadDocuments" title="Link to this heading">#</a></h2>
<p>This module loads documents from HTML files and stores them in a vector database.</p>
<dl class="py function">
<dt class="sig sig-object py" id="Project.LoadDocuments.main">
<span class="sig-prename descclassname"><span class="pre">Project.LoadDocuments.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">persist_directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/LoadDocuments.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.LoadDocuments.main" title="Link to this definition">#</a></dt>
<dd><p>Load documents from HTML files and store them in a vector database.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>root_directory (str): Root directory containing HTML files.
persist_directory (str): Directory to persist processed documents.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.LoadDocuments.process_html_batch">
<span class="sig-prename descclassname"><span class="pre">Project.LoadDocuments.</span></span><span class="sig-name descname"><span class="pre">process_html_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">html_file_paths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/LoadDocuments.html#process_html_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.LoadDocuments.process_html_batch" title="Link to this definition">#</a></dt>
<dd><p>Process a batch of HTML files and load their contents into a list of documents.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>html_file_paths (list): List of file paths for HTML files to process.</p>
</dd>
<dt>Returns:</dt><dd><p>list: List of documents loaded from the HTML files.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.LoadDocuments.process_in_batches">
<span class="sig-prename descclassname"><span class="pre">Project.LoadDocuments.</span></span><span class="sig-name descname"><span class="pre">process_in_batches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">persist_directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/LoadDocuments.html#process_in_batches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.LoadDocuments.process_in_batches" title="Link to this definition">#</a></dt>
<dd><p>Process documents in batches to avoid rate limit.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>documents (list): List of documents to process
batch_size (int): Number of documents to process in each batch
delay_time (int): Time to pause between batches in seconds</p>
</dd>
<dt>Returns:</dt><dd><p>doc (Chroma): Chroma object containing processed documents</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-Project.RAG_V1">
<span id="project-rag-v1-module"></span><h2>Project.RAG_V1 module<a class="headerlink" href="#module-Project.RAG_V1" title="Link to this heading">#</a></h2>
<p>This module initializes and runs the Retrieval-Augmented Generation (RAG) system.</p>
<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.create_flask_app">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">create_flask_app</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qa_chain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/RAG_V1.html#create_flask_app"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.create_flask_app" title="Link to this definition">#</a></dt>
<dd><p>Create and configure a Flask app for the chatbot.</p>
<p>This function creates a Flask app, sets up routes for handling user requests, and returns the configured app.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>qa_chain (RetrievalQA): The RetrievalQA object for question answering.
memory (ConversationBufferMemory): The memory object for storing conversation history.</p>
</dd>
<dt>Returns:</dt><dd><p>Flask: The configured Flask application.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.get_template_path">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">get_template_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/RAG_V1.html#get_template_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.get_template_path" title="Link to this definition">#</a></dt>
<dd><p>Get the absolute path of the template.html file.</p>
<p>This function gets the absolute path of the current file and then builds the
absolute path of the template.html file. It returns the path of the template
file.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The absolute path of the template.html file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.initialize_document_store">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">initialize_document_store</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">persist_directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/RAG_V1.html#initialize_document_store"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.initialize_document_store" title="Link to this definition">#</a></dt>
<dd><p>Initialize the document store using the embedding and persist directory.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>embedding (AzureOpenAIEmbeddings): An instance of the AzureOpenAIEmbeddings class.
persist_directory (str): The directory where the document store will persist its data.</p>
</dd>
<dt>Returns:</dt><dd><p>Chroma: An instance of the Chroma document store.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.initialize_embedding">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">initialize_embedding</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/RAG_V1.html#initialize_embedding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.initialize_embedding" title="Link to this definition">#</a></dt>
<dd><p>Initialize the embedding model using AzureOpenAIEmbeddings.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>AzureOpenAIEmbeddings: An instance of the AzureOpenAIEmbeddings class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.initialize_llm">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">initialize_llm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/RAG_V1.html#initialize_llm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.initialize_llm" title="Link to this definition">#</a></dt>
<dd><p>Initialize the AzureChatOpenAI model with the specified parameters.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>AzureChatOpenAI: An instance of the AzureChatOpenAI model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.initialize_memory">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">initialize_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConversationBufferMemory</span></span></span><a class="reference internal" href="_modules/Project/RAG_V1.html#initialize_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.initialize_memory" title="Link to this definition">#</a></dt>
<dd><p>Initialize the memory object for storing the conversation history.</p>
<p>The memory object is a ConversationBufferMemory object, which stores the
conversation history in memory. The memory_key is set to “history”, which
is the key used to store the conversation history in the memory object.
The input_key is set to “question”, which is the key used to store the
question in the memory object.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>ConversationBufferMemory: The initialized memory object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.initialize_prompt_template">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">initialize_prompt_template</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">PromptTemplate</span></span></span><a class="reference internal" href="_modules/Project/RAG_V1.html#initialize_prompt_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.initialize_prompt_template" title="Link to this definition">#</a></dt>
<dd><p>Initialize the prompt template used for generating the QA chain prompt.</p>
<p>The prompt template includes instructions for the assistant to follow,
as well as a placeholder for the context and chat history.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>PromptTemplate: An instance of the PromptTemplate object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.initialize_qa_chain">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">initialize_qa_chain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">llm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retriever</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt_template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/RAG_V1.html#initialize_qa_chain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.initialize_qa_chain" title="Link to this definition">#</a></dt>
<dd><p>Initialize the QA chain.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>llm (AzureChatOpenAI): The language model used for generating answers.
retriever (ElasticsearchRetriever): The retriever used for retrieving relevant documents.
prompt_template (PromptTemplate): The prompt template used for generating the QA chain prompt.
memory (ConversationBufferMemory): The memory used for storing the conversation history.</p>
</dd>
<dt>Returns:</dt><dd><p>RetrievalQA: The initialized QA chain.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.initialize_retriever">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">initialize_retriever</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">document_store</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/RAG_V1.html#initialize_retriever"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.initialize_retriever" title="Link to this definition">#</a></dt>
<dd><p>Initialize the retriever using the document store and the query results number.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>document_store (Chroma): An instance of the Chroma document store.</p>
</dd>
<dt>Returns:</dt><dd><p>Retriever: An instance of the retriever.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.main">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">persist_directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/RAG_V1.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.main" title="Link to this definition">#</a></dt>
<dd><p>Set up the OpenAI credentials, initialize the embedding, document store, retriever, LLM, prompt template, memory, and QA chain. Then, create a Flask app and run it in a separate thread.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>persist_directory (str): The directory where the document store will persist its data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.run_app">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">run_app</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/RAG_V1.html#run_app"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.run_app" title="Link to this definition">#</a></dt>
<dd><p>Run the Flask application on all interfaces of the host machine, listening on port 5000.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>app (Flask): The Flask application to run.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.RAG_V1.set_openai_credentials">
<span class="sig-prename descclassname"><span class="pre">Project.RAG_V1.</span></span><span class="sig-name descname"><span class="pre">set_openai_credentials</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/RAG_V1.html#set_openai_credentials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.RAG_V1.set_openai_credentials" title="Link to this definition">#</a></dt>
<dd><p>Set OpenAI API credentials.</p>
<p>This function initializes the OpenAI API credentials using Azure authentication.</p>
</dd></dl>

</section>
<section id="module-Project.run">
<span id="project-run-module"></span><h2>Project.run module<a class="headerlink" href="#module-Project.run" title="Link to this heading">#</a></h2>
<p>This module contains the GUI and event handlers for the RAG project.</p>
<dl class="py function">
<dt class="sig sig-object py" id="Project.run.browse_folder">
<span class="sig-prename descclassname"><span class="pre">Project.run.</span></span><span class="sig-name descname"><span class="pre">browse_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry_var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/run.html#browse_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.run.browse_folder" title="Link to this definition">#</a></dt>
<dd><p>Open a file dialog to select a folder and set the selected path in the entry variable.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>entry_var (tkinter.StringVar): The variable that holds the path of the selected folder.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.run.main">
<span class="sig-prename descclassname"><span class="pre">Project.run.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/run.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.run.main" title="Link to this definition">#</a></dt>
<dd><p>Create the main window and initialize the GUI.</p>
<p>This function creates the main window using tkinter and initializes the GUI
by adding labels, entry boxes, and buttons. It also sets up the event handlers
for the buttons.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.run.process_documents">
<span class="sig-prename descclassname"><span class="pre">Project.run.</span></span><span class="sig-name descname"><span class="pre">process_documents</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/run.html#process_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.run.process_documents" title="Link to this definition">#</a></dt>
<dd><p>Execute the LoadDocuments.py script with the selected documents and persist directory.</p>
<p>This function takes the selected documents folder and persist directory from the GUI and passes them as arguments
to the LoadDocuments.py script. It then checks if both the documents folder and persist directory are selected. If not,
it displays a warning message. If the script executes successfully, it displays a success message. If an error occurs,
it displays an error message.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.run.run_rag">
<span class="sig-prename descclassname"><span class="pre">Project.run.</span></span><span class="sig-name descname"><span class="pre">run_rag</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/run.html#run_rag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.run.run_rag" title="Link to this definition">#</a></dt>
<dd><p>Execute the RAG_V1.py script with the selected persist directory.</p>
<p>This function takes the selected persist directory from the GUI and passes it as an argument
to the RAG_V1.py script. It then checks if the persist directory is selected. If not,
it displays a warning message. If the script executes successfully, it closes the window.
If an error occurs during the execution of the script, it displays an error message.</p>
</dd></dl>

</section>
<section id="module-Project.run2">
<span id="project-run2-module"></span><h2>Project.run2 module<a class="headerlink" href="#module-Project.run2" title="Link to this heading">#</a></h2>
<p>This module contains the code for the main window of the application.</p>
<dl class="py function">
<dt class="sig sig-object py" id="Project.run2.browse_documents">
<span class="sig-prename descclassname"><span class="pre">Project.run2.</span></span><span class="sig-name descname"><span class="pre">browse_documents</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/run2.html#browse_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.run2.browse_documents" title="Link to this definition">#</a></dt>
<dd><p>Open a folder selection dialog and set the global documents_folder variable to the selected folder.</p>
<p>This function opens a folder selection dialog and sets the global documents_folder variable to the selected folder.
The selected folder is then set as the text of the documents_entry QLineEdit widget.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.run2.browse_persist">
<span class="sig-prename descclassname"><span class="pre">Project.run2.</span></span><span class="sig-name descname"><span class="pre">browse_persist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/run2.html#browse_persist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.run2.browse_persist" title="Link to this definition">#</a></dt>
<dd><p>Open a folder selection dialog and set the global persist_directory variable to the selected folder.</p>
<p>This function opens a folder selection dialog and sets the global persist_directory variable to the selected folder.
The selected folder is then set as the text of the persist_entry QLineEdit widget.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>None</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.run2.main">
<span class="sig-prename descclassname"><span class="pre">Project.run2.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/run2.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.run2.main" title="Link to this definition">#</a></dt>
<dd><p>Configure and display the main window of the application.</p>
<p>This function creates a QApplication and a QWidget window and configures
the layout of the window. It sets up various widgets for selecting
the root documents directory and the persist directory. It also
sets up buttons for processing the documents and running the RAG.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.run2.process_documents">
<span class="sig-prename descclassname"><span class="pre">Project.run2.</span></span><span class="sig-name descname"><span class="pre">process_documents</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/run2.html#process_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.run2.process_documents" title="Link to this definition">#</a></dt>
<dd><p>Execute the LoadDocuments.py script with the selected documents and persist directory.</p>
<p>This function takes the selected documents folder and persist directory from the GUI and passes them as arguments
to the LoadDocuments.py script. It then checks if both the documents folder and persist directory are selected. If not,
it displays a warning message. If the script executes successfully, it displays a success message. If an error occurs,
it displays an error message.</p>
<p>This function does not take any parameters and does not return anything.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Project.run2.run_rag">
<span class="sig-prename descclassname"><span class="pre">Project.run2.</span></span><span class="sig-name descname"><span class="pre">run_rag</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Project/run2.html#run_rag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Project.run2.run_rag" title="Link to this definition">#</a></dt>
<dd><p>Execute the RAG_V1.py script with the selected persist directory.</p>
<dl class="simple">
<dt>Raises:</dt><dd><p>subprocess.CalledProcessError: If an error occurs during the execution of the script.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-Project">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-Project" title="Link to this heading">#</a></h2>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="modules.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Azure OpenAI</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-Project.LoadDocuments">Project.LoadDocuments module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.LoadDocuments.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.LoadDocuments.process_html_batch"><code class="docutils literal notranslate"><span class="pre">process_html_batch()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.LoadDocuments.process_in_batches"><code class="docutils literal notranslate"><span class="pre">process_in_batches()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-Project.RAG_V1">Project.RAG_V1 module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.create_flask_app"><code class="docutils literal notranslate"><span class="pre">create_flask_app()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.get_template_path"><code class="docutils literal notranslate"><span class="pre">get_template_path()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.initialize_document_store"><code class="docutils literal notranslate"><span class="pre">initialize_document_store()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.initialize_embedding"><code class="docutils literal notranslate"><span class="pre">initialize_embedding()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.initialize_llm"><code class="docutils literal notranslate"><span class="pre">initialize_llm()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.initialize_memory"><code class="docutils literal notranslate"><span class="pre">initialize_memory()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.initialize_prompt_template"><code class="docutils literal notranslate"><span class="pre">initialize_prompt_template()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.initialize_qa_chain"><code class="docutils literal notranslate"><span class="pre">initialize_qa_chain()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.initialize_retriever"><code class="docutils literal notranslate"><span class="pre">initialize_retriever()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.run_app"><code class="docutils literal notranslate"><span class="pre">run_app()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.RAG_V1.set_openai_credentials"><code class="docutils literal notranslate"><span class="pre">set_openai_credentials()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-Project.run">Project.run module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.run.browse_folder"><code class="docutils literal notranslate"><span class="pre">browse_folder()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.run.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.run.process_documents"><code class="docutils literal notranslate"><span class="pre">process_documents()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.run.run_rag"><code class="docutils literal notranslate"><span class="pre">run_rag()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-Project.run2">Project.run2 module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.run2.browse_documents"><code class="docutils literal notranslate"><span class="pre">browse_documents()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.run2.browse_persist"><code class="docutils literal notranslate"><span class="pre">browse_persist()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.run2.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.run2.process_documents"><code class="docutils literal notranslate"><span class="pre">process_documents()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Project.run2.run_rag"><code class="docutils literal notranslate"><span class="pre">run_rag()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-Project">Module contents</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="_sources/Project.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, Maxime Bouet.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>